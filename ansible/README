--------------------------------------------------------------------------------
README
--------------------------------------------------------------------------------
        o
    ____|____
   |         |  Name   : ansible
   |  _   _  |  Type   : ansible role
   | [_] [_] |  Group  : app-admin
   |____~____|
    ___//__//   Authors: robomon community
   /|     |/    License: GNU General Public License version 2 (GPLv2)
  //|_____|
    _|| ||_     Webpage: http://www.robomon.org/
   (__| |__)
--------------------------------------------------------------------------------
DESCRIPTION
--------------------------------------------------------------------------------

This role manages ansible.

For more detailed information on the usage and available configuration options
please consult the following sections.

--------------------------------------------------------------------------------
USAGE
--------------------------------------------------------------------------------

INSTALL
  - hosts: all
    roles:
     - role: ansible
       ansible_state: 'install'
       ansible_mode: 'server'

ENABLE
  - hosts: all
    roles:
     - role: ansible
       ansible_state: 'enable'
       ansible_mode: 'server'
       ansible_playbooks: ['all', 'db', 'file', 'web']
       ansible_monitor_mail_recipient: ["user@domain.tld"]
       ansible_monitor_mail_sender: 'ansible@domain.tld'
       ansible_monitor_mail_state: 'true'
       ansible_log_group: 'sysadmin'
       ansible_playbooks_dir_group: 'sysadmin'
       ansible_roles_dir_group: 'sysadmin'

DISABLE
  - hosts: all
    roles:
     - role: ansible
       ansible_state: 'disable'
       ansible_mode: 'server'
       ansible_playbooks: ['all', 'db', 'file', 'web']
       ansible_monitor_mail_recipient: ["user@domain.tld"]
       ansible_monitor_mail_sender: 'ansible@domain.tld'
       ansible_monitor_mail_state: 'true'
       ansible_log_group: 'sysadmin'
       ansible_playbooks_dir_group: 'sysadmin'
       ansible_roles_dir_group: 'sysadmin'

REMOVE
  - hosts: all
    roles:
     - role: ansible
       ansible_state: 'remove'
       ansible_mode: 'server'

--------------------------------------------------------------------------------
VARIABLES
--------------------------------------------------------------------------------

ROLE
  ansible_state
    Description: Control the state of the role.
    Implemented: 0.1
    Required   : False
    Value      : Predetermined
    Type       : String
    Default    : 'enable'
    Options    :
      Install: 'true' | 'yes' | 'install'
      Enable : 'start' | 'on' | 'enable'
      Disable: 'stop' | 'off' | 'disable'
      Remove : 'false' | 'no' | 'remove'

  ansible_mode
    Description: Control the 'ansible_mode' option.
    Implemented: 0.1
    Required   : False
    Value      : Predetermined
    Type       : String
    Default    : 'client'
    Options    :
      Client: 'client' | 'pull'
      Server: 'server' | 'push'

  ansible_ansible_dir_name
    Description: Define the 'ansible_ansible_dir_name' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'ansible'

  ansible_ansible_run_playbook_bash_template
    Description: Define the template source for 'ansible_run-playbook.bash.j2'.
                 Any value other than 'main' requires a Jinja2 file to be
                 created. The custom Jinja2 file for an example configuration
                 called 'example' needs to be placed as follows:
                 'ansible/templates/example/ansible_run-playbook.bash.j2'
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'main'
    Options    :
      Examples: 'example' | 'environment' | 'hostname'

  ansible_ansible_run_playbook_cron_template
    Description: Define the template source for 'ansible_run-playbook.cron.j2'.
                 Any value other than 'main' requires a Jinja2 file to be
                 created. The custom Jinja2 file for an example configuration
                 called 'example' needs to be placed as follows:
                 'ansible/templates/example/ansible_run-playbook.cron.j2'
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'main'
    Options    :
      Examples: 'example' | 'environment' | 'hostname'

  ansible_authorized_key
    Description: Define the 'ansible_authorized_key' option.
    Implemented: 0.1
    Required   : True
    Value      : Arbitrary
    Type       : String
    Default    : ''
    Options    :
      Examples: 'ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA5Qg4nV3Jh9kqnCs3YAoVbTCN5DV3vrOPzf1eLp514TE+QC2IDNEV6c8hWUD5VZZF0FS7MfGhsYx3pcd+7OiSvkRtIomNG+GuDJWhD5nCRuvYotrEUGh/P+mm7eLmQUBmZuMBvwUZn9W92zqic8F+uCrOMOqNcxsVp6oHUZSfZUkEoRnJxdBfd4UsLxinwM1fLCm0qYNAAHRjIycXEkAp37gx+6k6qulvf8c3oS/+akZ3xV0hAu7Ce5K1e7dC5iLS0GahMfr16grx+qqK4BHhsN4i7Xg2f1/eMyxsubzH3OkPrzAhoUJbhLUnaaURGhIrMB+JYN0Jo0XMvIavgqcYcQ== user01'

  ansible_gid
    Description: Set the 'ansible_gid' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Integer, String
    Default    : '800'
    Options    :
      Examples: '801' | '802' | '803'

  ansible_groups
    Description: Define the 'ansible_groups' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Array
    Default    : ['wheel']
    Options    :
      Examples: ['group01'] |
                ['group01', 'group02'] |
                ['group01', 'group02', 'group03']

  ansible_log_dir_name
    Description: Define the 'ansible_log_dir_name' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'ansible'

  ansible_log_group
    Description: Define the 'ansible_log_group' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_log_owner
    Description: Define the 'ansible_log_owner' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_monitor_mail_recipient
    Description: Define the 'ansible_monitor_mail_recipient' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Array
    Default    : ["admin@{{ansible_domain}}"]
    Options    :
      Examples: ['root@domain.tld'] | ['root@domain.tld', 'admin@domain.tld']
                ['root@domain.tld', 'admin@domain.tld', 'user@domain.tld']

  ansible_monitor_mail_sender
    Description: Define the 'ansible_monitor_mail_sender' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : "ansible@{{ansible_domain}}"
    Options    :
      Examples: 'root@domain.tld' | 'admin@domain.tld' | 'user@domain.tld'

  ansible_monitor_mail_state
    Description: Control the 'ansible_monitor_mail_state' option.
    Implemented: 0.1
    Required   : False
    Value      : Predetermined
    Type       : String
    Default    : 'false'
    Options    :
      Enable : 'true' | 'yes' | 'enable'
      Disable: 'false' | 'no' | 'disable'

  ansible_monitor_mail_subject
    Description: Define the 'ansible_monitor_mail_subject' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : "Ansible: Run Playbook - Error ({{ansible_hostname}})"
    Options    :
      Examples: 'Ansible: Run Playbook - Error'

  ansible_password
    Description: Define the 'ansible_password' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary SHA-512 cryptographic hash
    Type       : String
    Default    : '!'
    Options    :
      Examples: '$6$qnvq4oxb$F5E0WGpSCSGLYbbgOaqcz/uNagqAWRy8eDEsH1HzQ8Mq5tkfbHrXKhyt9f8XiJpancQw8AOGLnA0ITynFIOrV1' |
                '$6$Dgjf366H$mpoaFpK8rIaGSpaxhpJIu5AvinfCOLK2WQhnfm3UTwLNBfyCU494fXEYPsrUobsQ7hCcbv8GqwiJjmuhoGqL00' |
                '$6$Zmgm4Yd2$d3L6CMZLZk6BFrRelx0YEHeXqmrQqAOVaPhElTq.lqH14MhFS6w6Tupp8LJ1fjvvlicnZ4/Ok9VnC.Pvs0hsQ0'

  ansible_playbooks
    Description: Define the 'ansible_playbooks' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Array
    Default    : []
    Options    :
      Examples: ['all'] | ['file', 'web'] |
                ['db', 'file', 'web']
      None    : []

  ansible_playbooks_dir_group
    Description: Define the 'ansible_playbooks_dir_group' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_playbooks_dir_name
    Description: Define the 'ansible_playbooks_dir_name' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'playbooks'
    Options    :
      Examples: 'playbooks'

  ansible_playbooks_dir_owner
    Description: Define the 'ansible_playbooks_dir_owner' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_purge_log_period
    Description: Set the 'ansible_purge_log_period' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Integer
    Default    : 30
    Options    :
      Examples: 23 | 42 | 55

  ansible_roles_dir_group
    Description: Define the 'ansible_roles_dir_group' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_roles_dir_name
    Description: Define the 'ansible_roles_dir_name' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'roles'
    Options    :
      Examples: 'roles'

  ansible_roles_dir_owner
    Description: Define the 'ansible_roles_dir_owner' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'root' | 'sysadmin' | 'appadmin'

  ansible_root_dir_name
    Description: Define the 'ansible_root_dir_name' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'ansible'
    Options    :
      Examples: 'ansible'

  ansible_root_dir_partition
    Description: Define the 'ansible_root_dir_partition' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : String
    Default    : 'opt'
    Options    :
      Examples: 'opt' | 'var' | 'data'

  ansible_run_playbook_cron_hour
    Description: Set the 'ansible_run_playbook_cron_hour' option.
                 Specify a value between 0-24.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Integer, String
    Default    : 6
    Options    :
      Examples: 5 | 11 | 15 | 20 | 23

  ansible_run_playbook_cron_minute
    Description: Set the 'ansible_run_playbook_cron_minute' option.
                 Specify a value between 0-60.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Integer, String
    Default    : 45
    Options    :
      Examples: 5 | 11 | 15 | 20 | 23

  ansible_uid
    Description: Set the 'ansible_uid' option.
    Implemented: 0.1
    Required   : False
    Value      : Arbitrary
    Type       : Integer, String
    Default    : '800'
    Options    :
      Examples: '801' | '802' | '803'

--------------------------------------------------------------------------------
DEPENDENCIES
--------------------------------------------------------------------------------

PACKAGES

ROLES
  common

  mailx

VARIABLES

--------------------------------------------------------------------------------
REQUIREMENTS
--------------------------------------------------------------------------------

CONTROL MACHINE
  Ansible
    Version: >= 1.6

  Python
    Version: >= 2.4

  Python-Crypto
    Version: >= 2.0

  Python-Jinja2
    Version: >= 2.0

  Python-Paramiko
    Version: >= 1.0

  Python-YAML
    Version: >= 3.0

  sshpass
    Version: >= 1.0

MANAGED NODE
  Python
    Version: >= 2.4

--------------------------------------------------------------------------------
SUPPORT
--------------------------------------------------------------------------------

OPERATING SYSTEMS
  RedHat
    Version: 6
      Status: Testing

    Version: 7
      Status: Planned

  CentOS
    Version: 6
      Status: Testing

    Version: 7
      Status: Planned

  Gentoo:
    Version: 2
      Status: Testing

--------------------------------------------------------------------------------
OTHER
--------------------------------------------------------------------------------
