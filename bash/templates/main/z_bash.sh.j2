#-------------------------------------------------------------------------------
#                             ANSIBLE MANAGED FILE
#-------------------------------------------------------------------------------

#-------------------------------------------------------------------------------
# INFORMATION
#-------------------------------------------------------------------------------
#        o
#    ____|____
#   |         |  Name   : bash.sh
#   |  _   _  |  Type   : environment variable configuration file
#   | [_] [_] |  Role   : bash
#   |____~____|
#    ___//__//   Authors: robomon community
#   /|     |/    License: GNU General Public License version 2 (GPLv2)
#  //|_____|
#    _|| ||_     Webpage: http://www.robomon.org/
#   (__| |__)
#-------------------------------------------------------------------------------
# DESCRIPTION
#-------------------------------------------------------------------------------
#
# This file defines environment variables for bash.
#
#-------------------------------------------------------------------------------

{% if (bash_histsize is defined) and not ((bash_histsize == None) or (bash_histsize == '') or (bash_histsize == 'false') or (bash_histsize == 'no') or (bash_histsize == 'disable')) %}
# Bash history - HISTSIZE
HISTSIZE={{bash_histsize}}
{% if (bash_history_readonly is defined) and not ((bash_history_readonly == 'false') or (bash_history_readonly == 'no') or (bash_history_readonly == 'disable')) %}
readonly HISTSIZE
{% endif %}
export HISTSIZE
{% endif %}

{% if (bash_histfilesize is defined) and not ((bash_histfilesize == None) or (bash_histfilesize == '') or (bash_histfilesize == 'false') or (bash_histfilesize == 'no') or (bash_histfilesize == 'disable')) %}
# Bash history - HISTFILESIZE
HISTFILESIZE={{bash_histfilesize}}
{% if (bash_history_readonly is defined) and not ((bash_history_readonly == 'false') or (bash_history_readonly == 'no') or (bash_history_readonly == 'disable')) %}
readonly HISTFILESIZE
{% endif %}
export HISTFILESIZE
{% endif %}

{% if (bash_histignore is defined) and not ((bash_histignore == None) or (bash_histignore == 'false') or (bash_histignore == 'no') or (bash_histignore == 'disable')) %}
# Bash history - HISTIGNORE
HISTIGNORE='{{bash_histignore}}'
{% if (bash_history_readonly is defined) and not ((bash_history_readonly == 'false') or (bash_history_readonly == 'no') or (bash_history_readonly == 'disable')) %}
readonly HISTIGNORE
{% endif %}
export HISTIGNORE
{% endif %}

{% if (bash_histcontrol is defined) and not ((bash_histcontrol == None) or (bash_histcontrol == 'false') or (bash_histcontrol == 'no') or (bash_histcontrol == 'disable')) %}
# Bash history - HISTCONTROL
HISTCONTROL='{{bash_histcontrol}}'
{% if (bash_history_readonly is defined) and not ((bash_history_readonly == 'false') or (bash_history_readonly == 'no') or (bash_history_readonly == 'disable')) %}
readonly HISTCONTROL
{% endif %}
export HISTCONTROL
{% endif %}

{% if (bash_histtimeformat is defined) and not ((bash_histtimeformat == None) or (bash_histtimeformat == 'false') or (bash_histtimeformat == 'no') or (bash_histtimeformat == 'disable')) %}
# Bash history - HISTTIMEFORMAT
HISTTIMEFORMAT='{{bash_histtimeformat}}'
{% endif %}

{% if (bash_tmout is defined) and not ((bash_tmout == None) or (bash_tmout == '') or (bash_tmout == 'false') or (bash_tmout == 'no') or (bash_tmout == 'disable')) %}
# Bash session
TMOUT={{bash_tmout}}
{% if (bash_session_readonly is defined) and not ((bash_session_readonly == 'false') or (bash_session_readonly == 'no') or (bash_session_readonly == 'disable')) %}
readonly TMOUT
{% endif %}
export TMOUT
{% endif %}

{% if (bash_color_prompt is defined) and not ((bash_color_prompt == None) or (bash_color_prompt == 'false') or (bash_color_prompt == 'no') or (bash_color_prompt == 'disable')) %}
# Bash color prompt
PS1='\[\033[1;36m\]\u\[\033[1;37m\]@\[\033[1;33m\]\h\[\033[1;37m\]:\[\033[1;31m\]\w \[\033[1;36m\]\$ \[\033[0m\]'
echo -n -e '\033%G'
{% endif %}

{% if (bash_color_support is defined) and not ((bash_color_support == None) or (bash_color_support == 'false') or (bash_color_support == 'no') or (bash_color_support == 'disable')) %}
# Bash color support
if [ -x /usr/bin/dircolors ]; then
  alias ls='ls --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}'
  alias la='ls -la --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}' # long listing, list all files
  alias ll='ls -l --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}'  # long listing
  alias lr='ls -lR --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}' # long listing, list subdirectories recursively
  alias lt='ls -lt --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}' # long listing, sort by modification time
  alias lz='ls -lZ --color=auto {% if (bash_ls_time_style is defined) and not ((bash_ls_time_style == None) or (bash_ls_time_style == '') or (bash_ls_time_style == 'false') or (bash_ls_time_style == 'no') or (bash_ls_time_style == 'disable')) %}--time-style="{{bash_ls_time_style}}"{% endif %}' # long listing, show SELinux security context

  alias dir='dir --color=auto'
  alias vdir='vdir --color=auto'

  alias grep='grep --color=auto'
  alias fgrep='fgrep --color=auto'
  alias egrep='egrep --color=auto'
fi
{% endif %}

{% if (bash_safety is defined) and not ((bash_safety == None) or (bash_safety == 'false') or (bash_safety == 'no') or (bash_safety == 'disable')) %}
# Bash safety
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias ln='ln -i'
alias chown='chown --preserve-root'
alias chmod='chmod --preserve-root'
alias chgrp='chgrp --preserve-root'
{% endif %}
